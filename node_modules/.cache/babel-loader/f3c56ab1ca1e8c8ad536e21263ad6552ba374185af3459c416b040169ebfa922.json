{"ast":null,"code":"var _jsxFileName = \"E:\\\\react\\\\fooding web\\\\my-app\\\\src\\\\context\\\\CartContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useMemo } from 'react';\n\n// Context Creation\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\n\n// Custom Hook\nexport const useCart = () => {\n  _s();\n  return useContext(CartContext);\n};\n\n// Provider Component\n_s(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const CartProvider = ({\n  children\n}) => {\n  _s2();\n  const [cartItems, setCartItems] = useState([]);\n\n  // --- Core Logic ---\n\n  const addToCart = (itemToAdd, quantity) => {\n    setCartItems(prevItems => {\n      const existingItem = prevItems.find(i => i.id === itemToAdd.id);\n      if (existingItem) {\n        // Update quantity if item exists\n        return prevItems.map(i => i.id === itemToAdd.id ? {\n          ...i,\n          quantity: i.quantity + quantity\n        } : i);\n      } else {\n        // Add new item with calculated quantity\n        return [...prevItems, {\n          ...itemToAdd,\n          quantity\n        }];\n      }\n    });\n  };\n  const updateCartQuantity = (id, change) => {\n    setCartItems(prevItems => {\n      return prevItems.map(item => {\n        if (item.id === id) {\n          const newQuantity = item.quantity + change;\n          // Quantity 1 se kam nahi honi chahiye\n          return {\n            ...item,\n            quantity: newQuantity >= 1 ? newQuantity : 0\n          };\n        }\n        return item;\n      }).filter(item => item.quantity > 0); // Remove items where quantity drops to 0\n    });\n  };\n  const removeItemFromCart = id => {\n    setCartItems(prevItems => prevItems.filter(item => item.id !== id));\n  };\n\n  // Memoized Total Calculation for performance\n  const totalAmount = useMemo(() => {\n    return cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0);\n  }, [cartItems]);\n  const contextValue = {\n    cartItems,\n    totalAmount,\n    addToCart,\n    updateCartQuantity,\n    removeItemFromCart\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s2(CartProvider, \"keTP/mTqK1V3kJi5Y9A/sVjoUsw=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useMemo","jsxDEV","_jsxDEV","CartContext","useCart","_s","CartProvider","children","_s2","cartItems","setCartItems","addToCart","itemToAdd","quantity","prevItems","existingItem","find","i","id","map","updateCartQuantity","change","item","newQuantity","filter","removeItemFromCart","totalAmount","reduce","acc","price","contextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/react/fooding web/my-app/src/context/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useMemo } from 'react';\r\n\r\n// Context Creation\r\nconst CartContext = createContext();\r\n\r\n// Custom Hook\r\nexport const useCart = () => useContext(CartContext);\r\n\r\n// Provider Component\r\nexport const CartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n\r\n  // --- Core Logic ---\r\n\r\n  const addToCart = (itemToAdd, quantity) => {\r\n    setCartItems(prevItems => {\r\n      const existingItem = prevItems.find(i => i.id === itemToAdd.id);\r\n\r\n      if (existingItem) {\r\n        // Update quantity if item exists\r\n        return prevItems.map(i =>\r\n          i.id === itemToAdd.id\r\n            ? { ...i, quantity: i.quantity + quantity }\r\n            : i\r\n        );\r\n      } else {\r\n        // Add new item with calculated quantity\r\n        return [...prevItems, { ...itemToAdd, quantity }];\r\n      }\r\n    });\r\n  };\r\n\r\n  const updateCartQuantity = (id, change) => {\r\n    setCartItems(prevItems => {\r\n      return prevItems.map(item => {\r\n        if (item.id === id) {\r\n          const newQuantity = item.quantity + change;\r\n          // Quantity 1 se kam nahi honi chahiye\r\n          return { ...item, quantity: newQuantity >= 1 ? newQuantity : 0 };\r\n        }\r\n        return item;\r\n      }).filter(item => item.quantity > 0); // Remove items where quantity drops to 0\r\n    });\r\n  };\r\n  \r\n  const removeItemFromCart = (id) => {\r\n    setCartItems(prevItems => prevItems.filter(item => item.id !== id));\r\n  };\r\n  \r\n  // Memoized Total Calculation for performance\r\n  const totalAmount = useMemo(() => {\r\n    return cartItems.reduce(\r\n        (acc, item) => acc + item.price * item.quantity,\r\n        0\r\n    );\r\n  }, [cartItems]);\r\n\r\n  const contextValue = {\r\n    cartItems,\r\n    totalAmount,\r\n    addToCart,\r\n    updateCartQuantity,\r\n    removeItemFromCart,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={contextValue}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}