{"ast":null,"code":"export default class Serializer {\n  constructor() {\n    this.HEADER_LENGTH = 1;\n    this.META_LENGTH = 4;\n    this.USER_BROADCAST_PUSH_META_LENGTH = 5;\n    this.KINDS = {\n      userBroadcastPush: 3,\n      userBroadcast: 4\n    };\n    this.BINARY_ENCODING = 0;\n    this.JSON_ENCODING = 1;\n    this.BROADCAST_EVENT = 'broadcast';\n  }\n  encode(msg, callback) {\n    if (msg.event === this.BROADCAST_EVENT && !(msg.payload instanceof ArrayBuffer) && typeof msg.payload.event === 'string') {\n      return callback(this._binaryEncodeUserBroadcastPush(msg));\n    }\n    let payload = [msg.join_ref, msg.ref, msg.topic, msg.event, msg.payload];\n    return callback(JSON.stringify(payload));\n  }\n  _binaryEncodeUserBroadcastPush(message) {\n    var _a;\n    if (this._isArrayBuffer((_a = message.payload) === null || _a === void 0 ? void 0 : _a.payload)) {\n      return this._encodeBinaryUserBroadcastPush(message);\n    } else {\n      return this._encodeJsonUserBroadcastPush(message);\n    }\n  }\n  _encodeBinaryUserBroadcastPush(message) {\n    var _a, _b, _c, _d;\n    const topic = message.topic;\n    const ref = (_a = message.ref) !== null && _a !== void 0 ? _a : '';\n    const joinRef = (_b = message.join_ref) !== null && _b !== void 0 ? _b : '';\n    const userEvent = message.payload.event;\n    const userPayload = (_d = (_c = message.payload) === null || _c === void 0 ? void 0 : _c.payload) !== null && _d !== void 0 ? _d : new ArrayBuffer(0);\n    const metaLength = this.USER_BROADCAST_PUSH_META_LENGTH + joinRef.length + ref.length + topic.length + userEvent.length;\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength);\n    let view = new DataView(header);\n    let offset = 0;\n    view.setUint8(offset++, this.KINDS.userBroadcastPush); // kind\n    view.setUint8(offset++, joinRef.length);\n    view.setUint8(offset++, ref.length);\n    view.setUint8(offset++, topic.length);\n    view.setUint8(offset++, userEvent.length);\n    view.setUint8(offset++, this.BINARY_ENCODING);\n    Array.from(joinRef, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(ref, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(topic, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(userEvent, char => view.setUint8(offset++, char.charCodeAt(0)));\n    var combined = new Uint8Array(header.byteLength + userPayload.byteLength);\n    combined.set(new Uint8Array(header), 0);\n    combined.set(new Uint8Array(userPayload), header.byteLength);\n    return combined.buffer;\n  }\n  _encodeJsonUserBroadcastPush(message) {\n    var _a, _b, _c, _d;\n    const topic = message.topic;\n    const ref = (_a = message.ref) !== null && _a !== void 0 ? _a : '';\n    const joinRef = (_b = message.join_ref) !== null && _b !== void 0 ? _b : '';\n    const userEvent = message.payload.event;\n    const userPayload = (_d = (_c = message.payload) === null || _c === void 0 ? void 0 : _c.payload) !== null && _d !== void 0 ? _d : {};\n    const encoder = new TextEncoder(); // Encodes to UTF-8\n    const encodedUserPayload = encoder.encode(JSON.stringify(userPayload)).buffer;\n    const metaLength = this.USER_BROADCAST_PUSH_META_LENGTH + joinRef.length + ref.length + topic.length + userEvent.length;\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength);\n    let view = new DataView(header);\n    let offset = 0;\n    view.setUint8(offset++, this.KINDS.userBroadcastPush); // kind\n    view.setUint8(offset++, joinRef.length);\n    view.setUint8(offset++, ref.length);\n    view.setUint8(offset++, topic.length);\n    view.setUint8(offset++, userEvent.length);\n    view.setUint8(offset++, this.JSON_ENCODING);\n    Array.from(joinRef, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(ref, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(topic, char => view.setUint8(offset++, char.charCodeAt(0)));\n    Array.from(userEvent, char => view.setUint8(offset++, char.charCodeAt(0)));\n    var combined = new Uint8Array(header.byteLength + encodedUserPayload.byteLength);\n    combined.set(new Uint8Array(header), 0);\n    combined.set(new Uint8Array(encodedUserPayload), header.byteLength);\n    return combined.buffer;\n  }\n  decode(rawPayload, callback) {\n    if (this._isArrayBuffer(rawPayload)) {\n      let result = this._binaryDecode(rawPayload);\n      return callback(result);\n    }\n    if (typeof rawPayload === 'string') {\n      const jsonPayload = JSON.parse(rawPayload);\n      const [join_ref, ref, topic, event, payload] = jsonPayload;\n      return callback({\n        join_ref,\n        ref,\n        topic,\n        event,\n        payload\n      });\n    }\n    return callback({});\n  }\n  _binaryDecode(buffer) {\n    const view = new DataView(buffer);\n    const kind = view.getUint8(0);\n    const decoder = new TextDecoder();\n    switch (kind) {\n      case this.KINDS.userBroadcast:\n        return this._decodeUserBroadcast(buffer, view, decoder);\n    }\n  }\n  _decodeUserBroadcast(buffer, view, decoder) {\n    const topicSize = view.getUint8(1);\n    const userEventSize = view.getUint8(2);\n    const metadataSize = view.getUint8(3);\n    const payloadEncoding = view.getUint8(4);\n    let offset = this.HEADER_LENGTH + 4;\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize));\n    offset = offset + topicSize;\n    const userEvent = decoder.decode(buffer.slice(offset, offset + userEventSize));\n    offset = offset + userEventSize;\n    const metadata = decoder.decode(buffer.slice(offset, offset + metadataSize));\n    offset = offset + metadataSize;\n    const payload = buffer.slice(offset, buffer.byteLength);\n    const parsedPayload = payloadEncoding === this.JSON_ENCODING ? JSON.parse(decoder.decode(payload)) : payload;\n    const data = {\n      type: this.BROADCAST_EVENT,\n      event: userEvent,\n      payload: parsedPayload\n    };\n    // Metadata is optional and always JSON encoded\n    if (metadataSize > 0) {\n      data['meta'] = JSON.parse(metadata);\n    }\n    return {\n      join_ref: null,\n      ref: null,\n      topic: topic,\n      event: this.BROADCAST_EVENT,\n      payload: data\n    };\n  }\n  _isArrayBuffer(buffer) {\n    var _a;\n    return buffer instanceof ArrayBuffer || ((_a = buffer === null || buffer === void 0 ? void 0 : buffer.constructor) === null || _a === void 0 ? void 0 : _a.name) === 'ArrayBuffer';\n  }\n}","map":{"version":3,"names":["Serializer","constructor","HEADER_LENGTH","META_LENGTH","USER_BROADCAST_PUSH_META_LENGTH","KINDS","userBroadcastPush","userBroadcast","BINARY_ENCODING","JSON_ENCODING","BROADCAST_EVENT","encode","msg","callback","event","payload","ArrayBuffer","_binaryEncodeUserBroadcastPush","join_ref","ref","topic","JSON","stringify","message","_isArrayBuffer","_a","_encodeBinaryUserBroadcastPush","_encodeJsonUserBroadcastPush","joinRef","_b","userEvent","userPayload","_d","_c","metaLength","length","header","view","DataView","offset","setUint8","Array","from","char","charCodeAt","combined","Uint8Array","byteLength","set","buffer","encoder","TextEncoder","encodedUserPayload","decode","rawPayload","result","_binaryDecode","jsonPayload","parse","kind","getUint8","decoder","TextDecoder","_decodeUserBroadcast","topicSize","userEventSize","metadataSize","payloadEncoding","slice","metadata","parsedPayload","data","type","name"],"sources":["E:\\react\\fooding web\\my-app\\node_modules\\@supabase\\realtime-js\\src\\lib\\serializer.ts"],"sourcesContent":["// This file draws heavily from https://github.com/phoenixframework/phoenix/commit/cf098e9cf7a44ee6479d31d911a97d3c7430c6fe\n// License: https://github.com/phoenixframework/phoenix/blob/master/LICENSE.md\nexport type Msg<T> = {\n  join_ref?: string | null\n  ref?: string | null\n  topic: string\n  event: string\n  payload: T\n}\n\nexport default class Serializer {\n  HEADER_LENGTH = 1\n  META_LENGTH = 4\n  USER_BROADCAST_PUSH_META_LENGTH = 5\n  KINDS = { userBroadcastPush: 3, userBroadcast: 4 }\n  BINARY_ENCODING = 0\n  JSON_ENCODING = 1\n  BROADCAST_EVENT = 'broadcast'\n\n  encode(msg: Msg<{ [key: string]: any }>, callback: (result: ArrayBuffer | string) => any) {\n    if (\n      msg.event === this.BROADCAST_EVENT &&\n      !(msg.payload instanceof ArrayBuffer) &&\n      typeof msg.payload.event === 'string'\n    ) {\n      return callback(\n        this._binaryEncodeUserBroadcastPush(msg as Msg<{ event: string } & { [key: string]: any }>)\n      )\n    }\n\n    let payload = [msg.join_ref, msg.ref, msg.topic, msg.event, msg.payload]\n    return callback(JSON.stringify(payload))\n  }\n\n  private _binaryEncodeUserBroadcastPush(message: Msg<{ event: string } & { [key: string]: any }>) {\n    if (this._isArrayBuffer(message.payload?.payload)) {\n      return this._encodeBinaryUserBroadcastPush(message)\n    } else {\n      return this._encodeJsonUserBroadcastPush(message)\n    }\n  }\n\n  private _encodeBinaryUserBroadcastPush(message: Msg<{ event: string } & { [key: string]: any }>) {\n    const topic = message.topic\n    const ref = message.ref ?? ''\n    const joinRef = message.join_ref ?? ''\n    const userEvent = message.payload.event\n    const userPayload = message.payload?.payload ?? new ArrayBuffer(0)\n\n    const metaLength =\n      this.USER_BROADCAST_PUSH_META_LENGTH +\n      joinRef.length +\n      ref.length +\n      topic.length +\n      userEvent.length\n\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength)\n    let view = new DataView(header)\n    let offset = 0\n\n    view.setUint8(offset++, this.KINDS.userBroadcastPush) // kind\n    view.setUint8(offset++, joinRef.length)\n    view.setUint8(offset++, ref.length)\n    view.setUint8(offset++, topic.length)\n    view.setUint8(offset++, userEvent.length)\n    view.setUint8(offset++, this.BINARY_ENCODING)\n    Array.from(joinRef, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(ref, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(topic, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(userEvent, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n\n    var combined = new Uint8Array(header.byteLength + userPayload.byteLength)\n    combined.set(new Uint8Array(header), 0)\n    combined.set(new Uint8Array(userPayload), header.byteLength)\n\n    return combined.buffer\n  }\n\n  private _encodeJsonUserBroadcastPush(message: Msg<{ event: string } & { [key: string]: any }>) {\n    const topic = message.topic\n    const ref = message.ref ?? ''\n    const joinRef = message.join_ref ?? ''\n    const userEvent = message.payload.event\n    const userPayload = message.payload?.payload ?? {}\n\n    const encoder = new TextEncoder() // Encodes to UTF-8\n    const encodedUserPayload = encoder.encode(JSON.stringify(userPayload)).buffer\n\n    const metaLength =\n      this.USER_BROADCAST_PUSH_META_LENGTH +\n      joinRef.length +\n      ref.length +\n      topic.length +\n      userEvent.length\n\n    const header = new ArrayBuffer(this.HEADER_LENGTH + metaLength)\n    let view = new DataView(header)\n    let offset = 0\n\n    view.setUint8(offset++, this.KINDS.userBroadcastPush) // kind\n    view.setUint8(offset++, joinRef.length)\n    view.setUint8(offset++, ref.length)\n    view.setUint8(offset++, topic.length)\n    view.setUint8(offset++, userEvent.length)\n    view.setUint8(offset++, this.JSON_ENCODING)\n    Array.from(joinRef, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(ref, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(topic, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n    Array.from(userEvent, (char) => view.setUint8(offset++, char.charCodeAt(0)))\n\n    var combined = new Uint8Array(header.byteLength + encodedUserPayload.byteLength)\n    combined.set(new Uint8Array(header), 0)\n    combined.set(new Uint8Array(encodedUserPayload), header.byteLength)\n\n    return combined.buffer\n  }\n\n  decode(rawPayload: ArrayBuffer | string, callback: Function) {\n    if (this._isArrayBuffer(rawPayload)) {\n      let result = this._binaryDecode(rawPayload as ArrayBuffer)\n      return callback(result)\n    }\n\n    if (typeof rawPayload === 'string') {\n      const jsonPayload = JSON.parse(rawPayload)\n      const [join_ref, ref, topic, event, payload] = jsonPayload\n      return callback({ join_ref, ref, topic, event, payload })\n    }\n\n    return callback({})\n  }\n\n  private _binaryDecode(buffer: ArrayBuffer) {\n    const view = new DataView(buffer)\n    const kind = view.getUint8(0)\n    const decoder = new TextDecoder()\n    switch (kind) {\n      case this.KINDS.userBroadcast:\n        return this._decodeUserBroadcast(buffer, view, decoder)\n    }\n  }\n\n  private _decodeUserBroadcast(\n    buffer: ArrayBuffer,\n    view: DataView,\n    decoder: TextDecoder\n  ): {\n    join_ref: null\n    ref: null\n    topic: string\n    event: string\n    payload: { [key: string]: any }\n  } {\n    const topicSize = view.getUint8(1)\n    const userEventSize = view.getUint8(2)\n    const metadataSize = view.getUint8(3)\n    const payloadEncoding = view.getUint8(4)\n\n    let offset = this.HEADER_LENGTH + 4\n    const topic = decoder.decode(buffer.slice(offset, offset + topicSize))\n    offset = offset + topicSize\n    const userEvent = decoder.decode(buffer.slice(offset, offset + userEventSize))\n    offset = offset + userEventSize\n    const metadata = decoder.decode(buffer.slice(offset, offset + metadataSize))\n    offset = offset + metadataSize\n\n    const payload = buffer.slice(offset, buffer.byteLength)\n    const parsedPayload =\n      payloadEncoding === this.JSON_ENCODING ? JSON.parse(decoder.decode(payload)) : payload\n\n    const data: { [key: string]: any } = {\n      type: this.BROADCAST_EVENT,\n      event: userEvent,\n      payload: parsedPayload,\n    }\n\n    // Metadata is optional and always JSON encoded\n    if (metadataSize > 0) {\n      data['meta'] = JSON.parse(metadata)\n    }\n\n    return { join_ref: null, ref: null, topic: topic, event: this.BROADCAST_EVENT, payload: data }\n  }\n\n  private _isArrayBuffer(buffer: any): boolean {\n    return buffer instanceof ArrayBuffer || buffer?.constructor?.name === 'ArrayBuffer'\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}