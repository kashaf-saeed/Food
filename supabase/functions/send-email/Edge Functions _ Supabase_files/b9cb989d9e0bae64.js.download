;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="9af527bb-de46-a2af-3fc2-b3d35d625cf3")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,693241,e=>{"use strict";var t=e.i(478902),s=e.i(710483);let a=({resourceText:e,isFullPage:a=!1})=>{let n=()=>(0,t.jsx)(s.Admonition,{type:"warning",title:`You need additional permissions to ${e}`,description:"Contact your organization owner or administrator for assistance."});return a?(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("div",{className:"max-w-lg",children:(0,t.jsx)(n,{})})}):(0,t.jsx)(n,{})};e.s(["NoPermission",0,a,"default",0,a])},167892,e=>{"use strict";var t=e.i(478902),s=e.i(389959),a=e.i(843778);let n="mx-auto w-full max-w-[1200px]",r="px-4 @lg:px-6 @xl:px-10",i=(0,s.forwardRef)(({className:e,bottomPadding:s,size:n="default",...i},l)=>(0,t.jsx)("div",{ref:l,...i,className:(0,a.cn)("mx-auto w-full @container",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[n],r,s&&"pb-16",e)})),l=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("header",{...s,ref:n,className:(0,a.cn)("w-full","flex-col gap-3 py-6",e)})),o=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("h1",{ref:n,...s,className:(0,a.cn)(e)})),c=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("p",{ref:n,...s,className:(0,a.cn)("text-sm text-foreground-light",e)})),d=(0,s.forwardRef)(({className:e,isFullWidth:s,topPadding:n,...r},i)=>(0,t.jsx)("div",{ref:i,...r,className:(0,a.cn)("flex flex-col first:pt-12 py-6",s?"w-full":"gap-3 @md:grid-cols-12 @lg:grid",e)})),u=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("div",{ref:n,...s,className:(0,a.cn)("w-full h-px bg-border",e)})),m=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("h3",{ref:n,...s,className:(0,a.cn)("text-foreground text-xl",e)})),p=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("p",{ref:n,...s,className:(0,a.cn)("text-sm text-foreground-light",e)})),f=(0,s.forwardRef)(({className:e,children:s,title:n,...r},i)=>(0,t.jsxs)("div",{ref:i,...r,className:(0,a.cn)("col-span-4 xl:col-span-5 prose text-sm",e),children:[n&&(0,t.jsx)("h2",{children:n}),s]})),h=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("div",{ref:n,...s,className:(0,a.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",e)})),x=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("div",{ref:n,...s,className:(0,a.cn)("flex flex-col gap-3 items-center",e)})),g=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("div",{ref:n,...s,className:(0,a.cn)("flex w-full items-center",e)})),j=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("div",{ref:n,...s,className:(0,a.cn)("flex flex-row gap-3",e)})),b=(0,s.forwardRef)(({className:e,...s},n)=>(0,t.jsx)("div",{ref:n,...s,className:(0,a.cn)("flex flex-col gap-3","min-w-[420px]",e)})),y=(0,s.forwardRef)(({className:e,...s},i)=>(0,t.jsx)("div",{ref:i,...s,className:(0,a.cn)(n,r,"my-8 flex flex-col gap-8",e)}));l.displayName="ScaffoldHeader",o.displayName="ScaffoldTitle",c.displayName="ScaffoldDescription",i.displayName="ScaffoldContainer",u.displayName="ScaffoldDivider",d.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",f.displayName="ScaffoldSectionDetail",h.displayName="ScaffoldSectionContent",x.displayName="ScaffoldFilterAndContent",g.displayName="ScaffoldActionsContainer",j.displayName="ScaffoldActionsGroup",y.displayName="ScaffoldContainerLegacy",m.displayName="ScaffoldSectionTitle",p.displayName="ScaffoldSectionDescription",e.s(["MAX_WIDTH_CLASSES",0,n,"PADDING_CLASSES",0,r,"ScaffoldActionsContainer",0,g,"ScaffoldActionsGroup",0,j,"ScaffoldColumn",0,b,"ScaffoldContainer",0,i,"ScaffoldContainerLegacy",0,y,"ScaffoldDescription",0,c,"ScaffoldDivider",0,u,"ScaffoldFilterAndContent",0,x,"ScaffoldHeader",0,l,"ScaffoldSection",0,d,"ScaffoldSectionContent",0,h,"ScaffoldSectionDescription",0,p,"ScaffoldSectionDetail",0,f,"ScaffoldSectionTitle",0,m,"ScaffoldTitle",0,o])},862326,e=>{"use strict";var t=e.i(478902),s=e.i(938933),a=e.i(843778);function n({children:e,className:s,tag:a="div",style:n}){let r=`${a}`;return(0,t.jsx)(r,{style:n,children:e})}n.Title=function({className:e,level:s=1,children:a,style:n}){let r=`h${s}`;return(0,t.jsx)(r,{style:n,children:a})},n.Text=function({className:e,children:s,style:a,type:n,disabled:r,mark:i,code:l,keyboard:o,underline:c,strikethrough:d,strong:u,small:m}){return l?(0,t.jsx)("code",{style:a,children:s}):i?(0,t.jsx)("mark",{style:a,children:s}):o?(0,t.jsx)("kbd",{style:a,children:s}):u?(0,t.jsx)("strong",{style:a,children:s}):(0,t.jsx)("span",{style:a,children:s})},n.Link=function({children:e,target:s="_blank",href:a,className:n,onClick:r,style:i}){return(0,t.jsx)("a",{onClick:r,href:a,target:s,rel:"noopener noreferrer",style:i,children:e})};var r=e.i(389959);let i=(0,r.createContext)({type:"text"}),l=e=>{let{type:s}=e;return(0,t.jsx)(i.Provider,{value:{type:s},children:e.children})},o=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function c({children:e,className:s,ulClassName:a,style:n,type:r="text"}){return(0,t.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:s,style:n,children:(0,t.jsx)(l,{type:r,children:(0,t.jsx)("ul",{className:a,children:e})})})}c.Item=function({children:e,icon:n,active:r,rounded:i,onClick:l,doNotCloseOverlay:c=!1,showActiveBar:d=!1,style:u}){let m=(0,s.default)("menu"),{type:p}=o(),f=[m.item.base];f.push(m.item.variants[p].base),r?f.push(m.item.variants[p].active):f.push(m.item.variants[p].normal);let h=[m.item.content.base];r?h.push(m.item.content.active):h.push(m.item.content.normal);let x=[m.item.icon.base];return r?x.push(m.item.icon.active):x.push(m.item.icon.normal),(0,t.jsxs)("li",{role:"menuitem",className:(0,a.cn)("outline-none",f),style:u,onClick:l,"aria-current":r?"page":void 0,children:[n&&(0,t.jsx)("div",{className:`${x.join(" ")} min-w-fit`,children:n}),(0,t.jsx)("span",{className:h.join(" "),children:e})]})},c.Group=function({children:e,icon:a,title:n}){let r=(0,s.default)("menu"),{type:i}=o();return(0,t.jsxs)("div",{className:[r.group.base,r.group.variants[i]].join(" "),children:[a&&(0,t.jsx)("span",{className:r.group.icon,children:a}),(0,t.jsx)("span",{className:r.group.content,children:n}),e]})},c.Misc=function({children:e}){return(0,t.jsx)("div",{children:(0,t.jsx)(n.Text,{children:(0,t.jsx)("span",{children:e})})})},e.s(["Menu",0,c],862326)},388147,799793,e=>{"use strict";var t=e.i(478902),s=e.i(587433),a=e.i(862326),n=e.i(215261),r=e.i(837710);let i=({name:e="",isActive:i,isExternal:l,icon:o,rightIcon:c,url:d="",target:u="_self",onClick:m,textClassName:p="",hoverText:f="",label:h})=>{let x=(0,t.jsx)(a.Menu.Item,{icon:o,rounded:!0,active:i,onClick:m,children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:f||("string"==typeof e?e:""),children:[(0,t.jsx)("span",{className:"truncate flex-1 min-w-0",children:e}),void 0!==h&&(0,t.jsx)(s.Badge,{variant:"new"===h.toLowerCase()?"success":"warning",className:"flex-shrink-0",children:h})]}),c&&(0,t.jsx)("div",{children:c})]})});return d?l?(0,t.jsx)(r.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:o,children:(0,t.jsx)(n.default,{href:d,target:"_blank",rel:"noreferrer",children:e})}):(0,t.jsx)(n.default,{href:d,className:"block",target:u,children:x}):x};e.s(["default",0,i],799793),e.s(["ProductMenu",0,({page:e,menu:n})=>(0,t.jsx)("div",{className:"flex flex-col space-y-8",children:(0,t.jsx)(a.Menu,{type:"pills",children:n.map((r,l)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"my-6 space-y-8",children:(0,t.jsxs)("div",{className:"mx-3",children:[(0,t.jsx)(a.Menu.Group,{title:r.title?(0,t.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,t.jsx)("span",{children:r.title}),r.isPreview&&(0,t.jsx)(s.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,t.jsx)("div",{children:r.items.map(s=>{let a=s.pages?s.pages.includes(e??""):e===s.key;return(0,t.jsx)(i,{url:s.url,name:s.name,icon:s.icon,rightIcon:s.rightIcon,isActive:a,isExternal:s.isExternal,target:s.isExternal?"_blank":"_self",label:s.label},s.key)})})]})}),l!==n.length-1&&(0,t.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},r.key||r.title))})})],388147)},3259,100387,e=>{"use strict";var t=e.i(478902),s=e.i(153545),a=e.i(933505);e.s(["ChevronRightIcon",()=>a.default],100387);var a=a,n=e.i(389959),r=e.i(843778);let i=n.forwardRef(({...e},s)=>(0,t.jsx)("nav",{ref:s,"aria-label":"breadcrumb",...e}));i.displayName="Breadcrumb";let l=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)("ol",{ref:a,className:(0,r.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...s}));l.displayName="BreadcrumbList";let o=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)("li",{ref:a,className:(0,r.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...s}));o.displayName="BreadcrumbItem";let c=n.forwardRef(({asChild:e,className:a,...n},i)=>{let l=e?s.Slot:"a";return(0,t.jsx)(l,{ref:i,className:(0,r.cn)("transition-colors underline lg:no-underline hover:text-foreground",a),...n})});c.displayName="BreadcrumbLink";let d=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,r.cn)("no-underline text-foreground",e),...s}));d.displayName="BreadcrumbPage";let u=({children:e,className:s,...n})=>(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,r.cn)("[&>svg]:size-3.5 text-foreground-muted",s),...n,children:e??(0,t.jsx)(a.default,{})});u.displayName="BreadcrumbSeparator",e.s(["Breadcrumb",()=>i,"BreadcrumbItem",()=>o,"BreadcrumbLink",()=>c,"BreadcrumbList",()=>l,"BreadcrumbPage",()=>d,"BreadcrumbSeparator",()=>u],3259)},127739,e=>{"use strict";var t=e.i(478902),s=e.i(709520),a=e.i(389959),n=e.i(843778);let r=(0,s.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),i=(0,a.forwardRef)(({className:e,size:s,...a},i)=>(0,t.jsx)("div",{ref:i,...a,className:(0,n.cn)(r({size:s}),e)}));i.displayName="PageContainer",e.s(["PageContainer",0,i])},456050,e=>{"use strict";var t=e.i(478902),s=e.i(709520),a=e.i(389959),n=e.i(843778),r=e.i(3259),i=e.i(127739);let l=(0,s.cva)(["flex flex-col gap-4 w-full"],{variants:{size:{default:"pt-12",small:"pt-12",large:"pt-12",full:"pt-6"}},defaultVariants:{size:"default"}}),o=(0,a.createContext)({size:"default"}),c=()=>(0,a.useContext)(o),d=({className:e,size:s,children:a,...r})=>{let i=s??"default";return(0,t.jsx)(o.Provider,{value:{size:i},children:(0,t.jsx)("div",{"data-slot":"page-header","data-size":i,className:(0,n.cn)(l({size:i}),e),...r,children:a})})},u=({className:e,children:s,...a})=>{let{size:l}=c();return(0,t.jsx)(i.PageContainer,{size:l,children:(0,t.jsx)(r.Breadcrumb,{"data-slot":"page-header-breadcrumb",className:(0,n.cn)("flex items-center gap-4 [&_li]:text-xs",e),...a,children:s})})};u.displayName="PageHeaderBreadcrumb";let m=({className:e,...s})=>(0,t.jsx)("div",{"data-slot":"page-header-icon",className:(0,n.cn)("text-foreground-light",e),...s});m.displayName="PageHeaderIcon";let p=({className:e,children:s,...a})=>(0,t.jsx)("div",{"data-slot":"page-header-summary",className:(0,n.cn)("flex flex-col gap-1",e),...a,children:s});p.displayName="PageHeaderSummary";let f=({className:e,children:s,...a})=>(0,t.jsx)("h1",{"data-slot":"page-header-title",className:(0,n.cn)("heading-title",e),...a,children:s}),h=({className:e,children:s,...a})=>(0,t.jsx)("div",{"data-slot":"page-header-description",className:(0,n.cn)("heading-subSection text-foreground-light",e),...a,children:s}),x=({className:e,children:s,...a})=>{let{size:r}=c();return(0,t.jsx)(i.PageContainer,{size:r,children:(0,t.jsx)("div",{"data-slot":"page-header-meta",className:(0,n.cn)("flex flex-col @xl:flex-row @xl:justify-between @xl:items-center gap-4",'[&>[data-slot="page-header-icon"]]:shrink-0','[&>[data-slot="page-header-summary"]]:flex-1',e),...a,children:s})})};x.displayName="PageHeaderMeta";let g=({className:e,...s})=>(0,t.jsx)("div",{"data-slot":"page-header-actions",className:(0,n.cn)("flex items-center gap-2 shrink-0",e),...s});g.displayName="PageHeaderAside";let j=({className:e,...s})=>{let{size:a}=c();return(0,t.jsx)(i.PageContainer,{size:a,className:(0,n.cn)("full"===a&&"border-b"),children:(0,t.jsx)("div",{"data-slot":"page-header-footer",className:(0,n.cn)("w-full [&>nav]:border-b-0","full"!==a&&"border-b",e),...s})})};j.displayName="PageHeaderNavigationTabs",e.s(["PageHeader",()=>d,"PageHeaderAside",()=>g,"PageHeaderBreadcrumb",()=>u,"PageHeaderDescription",()=>h,"PageHeaderIcon",()=>m,"PageHeaderMeta",()=>x,"PageHeaderNavigationTabs",()=>j,"PageHeaderSummary",()=>p,"PageHeaderTitle",()=>f])},216518,e=>{"use strict";let t=(0,e.i(388019).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["default",()=>t])},890054,e=>{"use strict";var t=e.i(216518);e.s(["EyeOff",()=>t.default])},412385,e=>{"use strict";var t=e.i(389959),s=e.i(323796);e.s(["useConfirmOnClose",0,({checkIsDirty:e,onClose:a})=>{let[n,r]=(0,t.useState)(!1),i=(0,s.default)(e),l=(0,s.default)(a),o=(0,t.useCallback)(()=>{i.current()?r(!0):l.current()},[]),c=(0,t.useCallback)(()=>{r(!1),l.current()},[]),d=(0,t.useCallback)(()=>{r(!1)},[]),u=(0,t.useMemo)(()=>({visible:n,onClose:c,onCancel:d}),[n,c,d]);return(0,t.useMemo)(()=>({confirmOnClose:o,modalProps:u}),[o,u])}])},114378,e=>{"use strict";var t=e.i(4196),s=e.i(389959),a=e.i(355901);function n({enabled:e,urlKey:a,select:n,onError:r}){let[i,l]=(0,t.useQueryState)(a,t.parseAsString.withOptions({history:"push",clearOnDefault:!0})),o=(0,s.useMemo)(()=>i?n(i):void 0,[i,n]);return(0,s.useEffect)(()=>{e&&i&&!o&&(r(Error("not found"),i),l(null))},[e,r,i,l,o]),{value:o,setValue:l}}e.s(["handleErrorOnDelete",0,(e,t,s)=>{t!==e.current?a.toast.error(s):e.current=null},"useQueryStateWithSelect",()=>n])},582391,e=>{"use strict";let t=(0,e.i(388019).default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["Edit2",()=>t],582391)},839941,e=>{"use strict";var t=e.i(478902),s=e.i(898452);e.i(128328);var a=e.i(158639),n=e.i(388147),r=e.i(951138),i=e.i(825713);let l=()=>{let{ref:e="default"}=(0,a.useParams)(),r=(0,s.useRouter)().pathname.split("/")[4],i=[{title:"Manage",items:[{name:"Functions",key:"main",pages:["","[functionSlug]","new"],url:`/project/${e}/functions`,items:[]},{name:"Secrets",key:"secrets",url:`/project/${e}/functions/secrets`,items:[]}]}];return(0,t.jsx)(n.ProductMenu,{page:r,menu:i})},o=(0,r.withAuth)(({children:e})=>(0,t.jsx)(i.ProjectLayout,{title:"Edge Functions",product:"Edge Functions",productMenu:(0,t.jsx)(l,{}),isBlocking:!1,children:e}));e.s(["default",0,o])},743052,e=>{"use strict";var t=e.i(478902),s=e.i(370410),a=e.i(816467),n=e.i(389959),r=e.i(843778),i=e.i(375761);let l=(0,n.forwardRef)(({commands:e,className:s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("space-y-4",s),children:e.map((e,s)=>(0,t.jsx)(o,{item:e},`command-${s}`))}));l.displayName="CommandRender";let o=({item:e})=>{let[r,l]=(0,n.useState)(!1);return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"font-mono text-sm text-foreground-lighter",children:`> ${e.comment}`}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex gap-2 font-mono text-sm font-normal text-foreground",children:[(0,t.jsx)("span",{className:"text-foreground-lighter",children:"$"}),(0,t.jsxs)("span",{children:[(0,t.jsxs)("span",{children:[e.jsx?e.jsx():null," "]}),(0,t.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground",onClick:()=>{var t;t=e.command,l(!0),(0,i.copyToClipboard)(t),setTimeout(()=>l(!1),3e3)},children:r?(0,t.jsx)(s.Check,{size:14,strokeWidth:3,className:"text-brand"}):(0,t.jsx)(a.Copy,{size:14})})]})]})})]})};e.s(["default",0,l])},42081,e=>{"use strict";let t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>t])},591862,e=>{"use strict";let t=(0,e.i(388019).default)("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);e.s(["MinusCircle",()=>t],591862)},672296,e=>{"use strict";function t(e){return e.split("#")[0]}function s(e,t={}){let{maxDepth:a=3,redaction:n="[REDACTED]",truncationNotice:r="[REDACTED: max depth reached]",sensitiveKeys:i=[]}=t,l=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...i].map(e=>e.toLowerCase())),o=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],c=new WeakMap;function d(e){let t=e;for(let{re:e}of o)t=t.replace(e,n);return t}function u(e){return l.has(String(e).toLowerCase())}return e.map(e=>(function e(t,s){if(null==t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t;if("string"==typeof t)return d(t);if("function"==typeof t)return"[Function]";if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return`[TypedArray byteLength=${t.byteLength}]`;if(t instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${t.byteLength}]`;if(s>=a)return r;if("object"==typeof t){if(c.has(t))return"[Circular]";if(Array.isArray(t)){let a=[];c.set(t,a);for(let n=0;n<t.length;n++)a[n]=e(t[n],s+1);return a}if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(t)){let a={};for(let[r,i]of(c.set(t,a),Object.entries(t)))u(r)?a[r]=n:a[r]=e(i,s+1);return a}if(t instanceof Map){let a=[];for(let[r,i]of(c.set(t,a),t.entries())){let t=u(r)?n:e(r,s+1),l=u(r)?n:e(i,s+1);a.push([t,l])}return a}if(t instanceof Set){let a=[];for(let n of(c.set(t,a),t.values()))a.push(e(n,s+1));return a}if(t instanceof URL)return t.toString();if(t instanceof Error){let e={name:t.name,message:d(t.message),stack:r};return c.set(t,e),e}try{return d(String(t))}catch{return d(Object.prototype.toString.call(t))}}return d(String(t))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>s,"sanitizeUrlHashParams",()=>t])},974200,e=>{"use strict";let t=[{value:"hello-world",name:"Simple Hello World",description:"Basic function that returns a JSON response",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
interface reqPayload {
  name: string;
}

console.info('server started');

Deno.serve(async (req: Request) => {
  const { name }: reqPayload = await req.json();
  const data = {
    message: \`Hello \${name}!\`,
  };

  return new Response(
    JSON.stringify(data),
    { headers: { 'Content-Type': 'application/json', 'Connection': 'keep-alive' }}
  );
});`},{value:"database-access",name:"Supabase Database Access",description:"Example using Supabase client to query your database",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import { createClient } from 'jsr:@supabase/supabase-js@2'

Deno.serve(async (req) => {
  try {
    const supabase = createClient(
      Deno.env.get('SUPABASE_URL') ?? '',
      Deno.env.get('SUPABASE_ANON_KEY') ?? '',
      { global: { headers: { Authorization: req.headers.get('Authorization')! } } }
    )

    // TODO: Change the table_name to your table
    const { data, error } = await supabase.from('table_name').select('*')

    if (error) {
      throw error
    }

    return new Response(JSON.stringify({ data }), {
      headers: { 'Content-Type': 'application/json' },
      status: 200,
    })
  } catch (err) {
    return new Response(JSON.stringify({ message: err?.message ?? err }), {
      headers: { 'Content-Type': 'application/json' },
      status: 500 
    })
  }
})`},{value:"storage-upload",name:"Supabase Storage Upload",description:"Upload files to Supabase Storage",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import { createClient } from 'jsr:@supabase/supabase-js@2'
import { randomUUID } from 'node:crypto'

const supabase = createClient(
  Deno.env.get('SUPABASE_URL') ?? '',
  Deno.env.get('SUPABASE_ANON_KEY') ?? ''
)

Deno.serve(async (req) => {
  const formData = await req.formData()
  const file = formData.get('file')
  
  // TODO: update your-bucket to the bucket you want to write files
  const { data, error } = await supabase
    .storage
    .from('your-bucket')
    .upload(
      \`\${file.name}-\${randomUUID()}\`,
      file,
      { contentType: file.type }
    )
  if (error) throw error
  return new Response(
    JSON.stringify({ data }),
    { headers: { 'Content-Type': 'application/json' }}
  )
})`},{value:"node-api",name:"Node Built-in API Example",description:"Example using Node.js built-in crypto and http modules",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import { randomBytes } from "node:crypto";
import { createServer } from "node:http";
import process from "node:process";

const generateRandomString = (length) => {
  const buffer = randomBytes(length);
  return buffer.toString('hex');
};

const randomString = generateRandomString(10);
console.log(randomString);

const server = createServer((req, res) => {
  const message = \`Hello\`;
  res.end(message);
});

server.listen(9999);`},{value:"express",name:"Express Server",description:"Example using Express.js for routing",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import express from "npm:express@4.18.2";

const app = express();

// TODO: replace slug with Function's slug
// https://supabase.com/docs/guides/functions/routing?queryGroups=framework&framework=expressjs
app.get(/slug/(.*)/, (req, res) => {
  res.send("Welcome to Supabase");
});

app.listen(8000);`},{value:"openai-completion",name:"OpenAI Text Completion",description:"Generate text completions using OpenAI GPT-3",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts"
import { OpenAI } from "npm:openai@4.8.0"

const openai = new OpenAI({
  apiKey: Deno.env.get('OPENAI_API_KEY')
})

Deno.serve(async (req)=>{
  const { prompt } = await req.json()
  const response = await openai.chat.completions.create({
    model: "gpt-3.5-turbo",
    messages: [
      {
        role: "user",
        content: prompt
      }
    ]
  })
  return new Response(JSON.stringify({
    text: response.choices[0].message.content
  }), {
    headers: {
      'Content-Type': 'application/json',
      'Connection': 'keep-alive'
    }
  })
})`},{value:"stripe-webhook",name:"Stripe Webhook Example",description:"Handle Stripe webhook events securely",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import Stripe from 'npm:stripe@12.0.0'

const stripe = new Stripe(Deno.env.get('STRIPE_API_KEY') as string, {
  // This is needed to use the Fetch API rather than relying on the Node http
  // package.
  apiVersion: '2024-11-20'
})

// This is needed in order to use the Web Crypto API in Deno.
const cryptoProvider = Stripe.createSubtleCryptoProvider()

console.log('Stripe Webhook Function booted!')

Deno.serve(async (request) => {
  const signature = request.headers.get('Stripe-Signature')

  // First step is to verify the event. The .text() method must be used as the
  // verification relies on the raw request body rather than the parsed JSON.
  const body = await request.text()
  let receivedEvent
  try {
    receivedEvent = await stripe.webhooks.constructEventAsync(
      body,
      signature!,
      Deno.env.get('STRIPE_WEBHOOK_SIGNING_SECRET')!,
      undefined,
      cryptoProvider
    )
  } catch (err) {
    return new Response(err.message, { status: 400 })
  }
  console.log(\`ðŸ”” Event received: \${receivedEvent.id}\`)
  return new Response(JSON.stringify({ ok: true }), { status: 200 })
});`},{value:"resend-email",name:"Send Emails",description:"Send emails using the Resend API",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";

const RESEND_API_KEY = Deno.env.get('RESEND_API_KEY')!

Deno.serve(async (req) => {
  const { to, subject, html } = await req.json()
  const res = await fetch('https://api.resend.com/emails', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      Authorization: \`Bearer \${RESEND_API_KEY}\`,
    },
    body: JSON.stringify({
      from: 'you@example.com',
      to,
      subject,
      html,
    }),
  })
  const data = await res.json()
  return new Response(JSON.stringify(data), {
    headers: { 'Content-Type': 'application/json' },
  })
})`},{value:"image-transform",name:"Image Transformation",description:"Transform images using ImageMagick WASM",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";
import {
  ImageMagick,
  initializeImageMagick,
} from "npm:@imagemagick/magick-wasm@0.0.30"

await initializeImageMagick()

Deno.serve(async (req) => {
  const formData = await req.formData()
  const file = formData.get('file')
  const content = await file.arrayBuffer()
  const result = await ImageMagick.read(new Uint8Array(content), (img) => {
    img.resize(500, 300)
    img.blur(60, 5)
    return img.write(data => data)
  })
  return new Response(
    result,
    { headers: { 'Content-Type': 'image/png' }}
  )
})`},{value:"websocket-server",name:"Websocket Server Example",description:"Create a real-time WebSocket server",content:`// Setup type definitions for built-in Supabase Runtime APIs
import "jsr:@supabase/functions-js/edge-runtime.d.ts";

Deno.serve((req) => {
  const upgrade = req.headers.get("upgrade") || ""
  if (upgrade.toLowerCase() != "websocket") {
    return new Response("request isn't trying to upgrade to websocket.")
  }
  const { socket, response } = Deno.upgradeWebSocket(req)
  socket.onopen = () => {
    console.log("client connected!")
    socket.send('Welcome to Supabase Edge Functions!')
  }
  socket.onmessage = (e) => {
    console.log("client sent message:", e.data)
    socket.send(new Date().toString())
  }
  return response
})`}];e.s(["EDGE_FUNCTION_TEMPLATES",0,t])},856613,e=>{"use strict";var t=e.i(478902),s=e.i(416050),a=e.i(389959),n=e.i(627069),r=e.i(843778);let i=(0,a.forwardRef)(({media:e,meta:a,onClick:i,children:l,className:o,...c},d)=>(0,t.jsxs)(n.CardContent,{ref:d,className:(0,r.cn)("flex items-center justify-between text-sm gap-4","!border-b-0",i&&"cursor-pointer hover:bg-surface-200",o),onClick:i,...c,children:[e&&(0,t.jsx)("div",{className:"text-foreground-light flex items-center justify-center",children:e}),(0,t.jsx)("div",{className:"flex-1",children:l}),a&&(0,t.jsx)("div",{children:a}),i&&(0,t.jsx)(s.ChevronRight,{strokeWidth:1.5,size:16})]}));i.displayName="ResourceItem",e.s(["ResourceItem",0,i])},548760,e=>{"use strict";var t=e.i(478902),s=e.i(389959),a=e.i(627069);let n=(0,s.forwardRef)(({children:e,className:s,...n},r)=>(0,t.jsx)(a.Card,{ref:r,className:"overflow-hidden",...n,children:(0,t.jsx)("div",{className:s,children:e})}));n.displayName="ResourceList",e.s(["ResourceList",0,n])},19688,38423,e=>{"use strict";var t=e.i(242882),s=e.i(234745);let a={list:()=>["access-tokens"]};async function n(e){let{data:t,error:a}=await (0,s.get)("/platform/profile/access-tokens",{signal:e});return a&&(0,s.handleError)(a),t}e.s(["accessTokenKeys",0,a],38423),e.s(["useAccessTokensQuery",0,({enabled:e=!0,...s}={})=>(0,t.useQuery)({queryKey:a.list(),queryFn:({signal:e})=>n(e),...s})],19688)},841079,645135,e=>{"use strict";var t=e.i(478902),s=e.i(454370),a=e.i(398696),n=e.i(250503),r=e.i(388298),i=e.i(992615),l=e.i(454931),o=e.i(215261),c=e.i(898452),d=e.i(389959);e.i(128328);var u=e.i(158639),m=e.i(215618),p=e.i(167892),f=e.i(513826),h=e.i(856613),x=e.i(548760),g=e.i(162082),j=e.i(912793),b=e.i(265735),y=e.i(10429),v=e.i(317040),S=e.i(441081),N=e.i(602089),w=e.i(837710),C=e.i(627069),k=e.i(843778),_=e.i(672044),E=e.i(253214),P=e.i(479095),A=e.i(974200),T=e.i(902858),D=e.i(17203),R=e.i(180148),I=e.i(699879),F=e.i(743052),L=e.i(19688),O=e.i(108892),B=e.i(377451),z=e.i(71005),M=e.i(2579),H=e.i(774234),U=e.i(554855),$=e.i(925282);let q=(0,d.forwardRef)(({closable:e=!1,removeBorder:s=!1,...a},n)=>{let r=(0,c.useRouter)(),{ref:i}=(0,u.useParams)(),[o,m]=(0,d.useState)(!e),{data:p}=(0,L.useAccessTokensQuery)(),{can:h}=(0,M.useAsyncCheckPermissions)(T.PermissionAction.SECRETS_READ,"*"),{data:x}=(0,O.useAPIKeysQuery)({projectRef:i},{enabled:h}),{data:g}=(0,B.useProjectSettingsV2Query)({projectRef:i}),{data:j}=(0,z.useCustomDomainsQuery)({projectRef:i}),{anonKey:b,publishableKey:v}=(0,O.getKeys)(x),S=v?.api_key??b?.api_key??"[YOUR ANON KEY]",N=g?.app_config?.protocol??"https",C=g?.app_config?.endpoint??"",k=j?.customDomain?.status==="active"?`https://${j.customDomain.hostname}/functions/v1`:`${N}://${C}/functions/v1`,_=`https://${C}`,E=C?new URL(_).hostname.split(".").pop():"co",P=[{command:"supabase functions new hello-world",description:" creates a function stub at ./functions/hello-world/index.ts",jsx:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions new hello-world"]}),comment:"Create a function"},{command:`supabase functions deploy hello-world --project-ref ${i}`,description:"Deploys function at ./functions/hello-world/index.ts",jsx:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy hello-world --project-ref ",i]}),comment:"Deploy your function"},{command:`curl -L -X POST 'https://${i}.supabase.${E}/functions/v1/hello-world' -H 'Authorization: Bearer ${S}'${b?.type==="publishable"?` -H 'apikey: ${S}'`:""} --data '{"name":"Functions"}'`,description:"Invokes the hello-world function",jsx:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",k,"/hello-world' -H 'Authorization: Bearer [YOUR ANON KEY]'",b?.type==="publishable"?" -H 'apikey: [YOUR ANON KEY]' ":"",'--data \'{"name":"Functions"}\'']}),comment:"Invoke your function"}];return(0,t.jsxs)($.Collapsible_Shadcn_,{ref:n,open:o,className:"w-full",onOpenChange:()=>m(!o),...a,children:[(0,t.jsxs)(U.CollapsibleTrigger_Shadcn_,{className:"flex w-full justify-between",disabled:!e,children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-8 h-8 p-2 border rounded bg-alternative",children:(0,t.jsx)(l.Terminal,{strokeWidth:2})}),(0,t.jsx)("h4",{children:"Create your first Edge Function via the CLI"})]}),e&&(0,t.jsx)("div",{className:"cursor-pointer",onClick:()=>m(!o),children:o?(0,t.jsx)(I.Minimize2,{size:16,strokeWidth:1.5}):(0,t.jsx)(R.Maximize2,{size:16,strokeWidth:1.5})})]}),(0,t.jsxs)(H.CollapsibleContent_Shadcn_,{className:"w-full transition-all data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down",children:[(0,t.jsx)(F.default,{commands:P,className:"my-4"}),p&&0===p.length?(0,t.jsxs)("div",{className:"px-8 py-4 space-y-3 border-t",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-foreground",children:"You may need to create an access token"}),(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"You can create a secure access token in your account section"})]}),(0,t.jsx)(w.Button,{type:"default",onClick:()=>r.push("/account/tokens"),children:"Access tokens"})]}):(0,t.jsxs)("div",{className:"py-4 space-y-3 border-t",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-base text-foreground",children:"Need help?"}),(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"Read the documentation, or browse some sample code."})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(f.DocsButton,{href:`${y.DOCS_URL}/guides/functions`}),(0,t.jsx)(w.Button,{asChild:!0,type:"default",icon:(0,t.jsx)(D.ExternalLink,{}),children:(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/supabase/supabase/tree/master/examples/edge-functions/supabase/functions",children:"Examples"})})]})]})]})]})});q.displayName="TerminalInstructions",e.s(["TerminalInstructions",0,q],645135),e.s(["FunctionsEmptyState",0,()=>{let{ref:e}=(0,u.useParams)(),a=(0,c.useRouter)(),n=(0,v.useAiAssistantStateSnapshot)(),{openSidebar:r}=(0,S.useSidebarManagerSnapshot)(),{mutate:i}=(0,g.useSendEventMutation)(),{data:f}=(0,b.useSelectedOrganizationQuery)(),y=(0,j.useIsFeatureEnabled)("edge_functions:show_stripe_example"),k=(0,d.useMemo)(()=>y?A.EDGE_FUNCTION_TEMPLATES:A.EDGE_FUNCTION_TEMPLATES.filter(e=>"stripe-webhook"!==e.value),[y]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(C.Card,{children:[(0,t.jsx)(C.CardHeader,{children:(0,t.jsx)(C.CardTitle,{children:"Deploy your first edge function"})}),(0,t.jsxs)(C.CardContent,{className:"p-0 grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] divide-y md:divide-y-0 md:divide-x divide-default items-stretch",children:[(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.Code,{strokeWidth:1.5,size:20}),(0,t.jsx)("h4",{className:"text-base text-foreground",children:"Via Editor"})]}),(0,t.jsx)("p",{className:"text-sm text-foreground-light mb-4 mt-1",children:"Create and edit functions directly in the browser. Download to local at any time."}),(0,t.jsx)(w.Button,{type:"default",onClick:()=>{a.push(`/project/${e}/functions/new`),i({action:"edge_function_via_editor_button_clicked",properties:{origin:"no_functions_block"},groups:{project:e??"Unknown",organization:f?.slug??"Unknown"}})},children:"Open Editor"})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.AiIconAnimation,{size:20}),(0,t.jsx)("h4",{className:"text-base text-foreground",children:"AI Assistant"})]}),(0,t.jsx)("p",{className:"text-sm text-foreground-light mb-4 mt-1",children:"Let our AI assistant help you create functions. Perfect for kickstarting a function."}),(0,t.jsx)(w.Button,{type:"default",onClick:()=>{r(m.SIDEBAR_KEYS.AI_ASSISTANT),n.newChat({name:"Create new edge function",initialInput:"Create a new edge function that ...",suggestions:{title:"I can help you create a new edge function. Here are a few example prompts to get you started:",prompts:[{label:"Stripe Payments",description:"Create a new edge function that processes payments with Stripe"},{label:"Email with Resend",description:"Create a new edge function that sends emails with Resend"},{label:"PDF Generator",description:"Create a new edge function that generates PDFs from HTML templates"}]}}),i({action:"edge_function_ai_assistant_button_clicked",properties:{origin:"no_functions_block"},groups:{project:e??"Unknown",organization:f?.slug??"Unknown"}})},children:"Open Assistant"})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Terminal,{strokeWidth:1.5,size:20}),(0,t.jsx)("h4",{className:"text-base text-foreground",children:"Via CLI"})]}),(0,t.jsx)("p",{className:"text-sm text-foreground-light mb-4 mt-1",children:"Create and deploy functions using the Supabase CLI. Ideal for local development and version control."}),(0,t.jsxs)(E.Dialog,{children:[(0,t.jsx)(E.DialogTrigger,{asChild:!0,children:(0,t.jsx)(w.Button,{type:"default",onClick:()=>i({action:"edge_function_via_cli_button_clicked",properties:{origin:"no_functions_block"},groups:{project:e??"Unknown",organization:f?.slug??"Unknown"}}),children:"View CLI Instructions"})}),(0,t.jsx)(E.DialogContent,{size:"large",children:(0,t.jsx)(E.DialogSection,{padding:"small",children:(0,t.jsx)(q,{})})})]})]})]})]}),(0,t.jsx)(p.ScaffoldSectionTitle,{className:"text-xl mb-4 mt-12",children:"Start with a template"}),(0,t.jsx)(x.ResourceList,{children:k.map(a=>(0,t.jsx)(h.ResourceItem,{media:(0,t.jsx)(s.Code,{strokeWidth:1.5,size:16,className:"-translate-y-[9px]"}),onClick:()=>{i({action:"edge_function_template_clicked",properties:{templateName:a.name,origin:"functions_page"},groups:{project:e??"Unknown",organization:f?.slug??"Unknown"}})},children:(0,t.jsxs)(o.default,{href:`/project/${e}/functions/new?template=${a.value}`,children:[(0,t.jsx)("p",{children:a.name}),(0,t.jsx)("p",{className:"text-sm text-foreground-lighter",children:a.description})]})},a.name))})]})},"FunctionsEmptyStateLocal",0,()=>{let e=(0,j.useIsFeatureEnabled)("edge_functions:show_stripe_example"),n=(0,d.useMemo)(()=>e?A.EDGE_FUNCTION_TEMPLATES:A.EDGE_FUNCTION_TEMPLATES.filter(e=>"stripe-webhook"!==e.value),[e]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,t.jsxs)(C.Card,{children:[(0,t.jsx)(C.CardHeader,{children:(0,t.jsx)(C.CardTitle,{children:"Developing Edge Functions locally"})}),(0,t.jsxs)(C.CardContent,{className:(0,k.cn)("p-0 flex flex-col","2xl:grid 2xl:grid-cols-[repeat(auto-fit,minmax(240px,1fr))] 2xl:divide-y-0 2xl:divide-x","divide-y divide-default items-stretch"),children:[(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.Code,{size:20}),(0,t.jsx)("h4",{className:"text-base text-foreground",children:"Create an Edge Function"})]}),(0,t.jsxs)("p",{className:"text-sm text-foreground-light mt-1 mb-4 prose [&>code]:text-xs text-sm max-w-full",children:["Create a new edge function called ",(0,t.jsx)("code",{children:"hello-world"})," in your project via the Supabase CLI."]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(_.CodeBlock,{language:"bash",hideLineNumbers:!0,className:(0,k.cn)("px-3.5 max-w-full prose dark:prose-dark [&>code]:m-0 2xl:min-h-28"),value:"supabase functions new hello-world"})}),(0,t.jsx)(f.DocsButton,{href:`${y.DOCS_URL}/guides/functions/local-quickstart#create-an-edge-function`})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Play,{size:20}),(0,t.jsx)("h4",{className:"text-base text-foreground",children:"Run Edge Functions locally"})]}),(0,t.jsxs)("p",{className:"text-sm text-foreground-light mt-1 mb-4 prose [&>code]:text-xs text-sm max-w-full",children:["You can run your Edge Function locally using ",(0,t.jsx)("code",{children:"supabase functions serve"}),"."]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(_.CodeBlock,{language:"bash",hideLineNumbers:!0,className:(0,k.cn)("px-3.5 max-w-full prose dark:prose-dark [&>code]:m-0 2xl:min-h-28"),value:`
supabase start # start the supabase stack
supabase functions serve # start the Functions watcher`.trim()})}),(0,t.jsx)(f.DocsButton,{href:`${y.DOCS_URL}/guides/functions/local-quickstart#running-edge-functions-locally`})]}),(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Terminal,{strokeWidth:1.5,size:20}),(0,t.jsx)("h4",{className:"text-base text-foreground",children:"Invoke Edge Functions locally"})]}),(0,t.jsx)("p",{className:"text-sm text-foreground-light mt-1 mb-4",children:"While serving your local Edge Functions, you can invoke it using cURL or one of the client libraries."}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(_.CodeBlock,{language:"bash",hideLineNumbers:!0,className:(0,k.cn)("px-3.5 max-w-full prose dark:prose-dark [&>code]:m-0 2xl:min-h-28"),value:`
curl --request POST 'http://localhost:54321/functions/v1/hello-world' \\
  --header 'Authorization: Bearer SUPABASE_ANON_KEY' \\
  --header 'Content-Type: application/json' \\
  --data '{ "name":"Functions" }'`.trim()})}),(0,t.jsx)(f.DocsButton,{href:`${y.DOCS_URL}/guides/functions/local-quickstart#invoking-edge-functions-locally`})]})]})]}),(0,t.jsxs)(C.Card,{children:[(0,t.jsx)(C.CardHeader,{children:(0,t.jsx)(C.CardTitle,{children:"Self-hosting Edge Functions"})}),(0,t.jsx)(C.CardContent,{className:"p-0 grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] divide-y md:divide-y-0 md:divide-x divide-default items-stretch",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.Server,{size:20}),(0,t.jsx)("h4",{className:"text-base text-foreground",children:"Self-hosting Edge Functions"})]}),(0,t.jsx)("p",{className:"text-sm text-foreground-light mt-1 mb-4 max-w-3xl",children:"Supabase Edge Runtime consists of a web server based on the Deno runtime, capable of running Javascript, Typescript, and WASM services. You may self-host edge functions on providers like Fly.io, Digital Ocean, or AWS."}),(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsx)(f.DocsButton,{href:`${y.DOCS_URL}/reference/self-hosting-functions/introduction`}),(0,t.jsx)(w.Button,{asChild:!0,type:"default",icon:(0,t.jsx)(a.Github,{}),children:(0,t.jsx)("a",{href:"https://github.com/supabase/edge-runtime/",children:"GitHub"})})]})]})})]}),(0,t.jsx)(p.ScaffoldSectionTitle,{className:"text-xl mt-12",children:"Explore our templates"}),(0,t.jsx)(x.ResourceList,{children:n.map(e=>(0,t.jsxs)(E.Dialog,{children:[(0,t.jsx)(E.DialogTrigger,{asChild:!0,children:(0,t.jsx)(h.ResourceItem,{media:(0,t.jsx)(s.Code,{strokeWidth:1.5,size:16,className:"-translate-y-[9px]"}),children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{children:e.name}),(0,t.jsx)("p",{className:"text-sm text-foreground-lighter",children:e.description})]})},e.name)}),(0,t.jsxs)(E.DialogContent,{size:"large",children:[(0,t.jsxs)(E.DialogHeader,{children:[(0,t.jsx)(E.DialogTitle,{children:e.name}),(0,t.jsx)(E.DialogDescription,{children:e.description})]}),(0,t.jsx)(P.Separator,{}),(0,t.jsx)(E.DialogSection,{className:"!p-0",children:(0,t.jsx)(_.CodeBlock,{language:"ts",hideLineNumbers:!0,className:(0,k.cn)("border-0 rounded-none px-3.5 max-w-full prose dark:prose-dark [&>code]:m-0 max-h-[420px]"),value:e.content})})]})]}))})]})})},"FunctionsSecretsEmptyStateLocal",0,()=>(0,t.jsxs)(C.Card,{children:[(0,t.jsx)(C.CardHeader,{children:(0,t.jsx)(C.CardTitle,{children:"Managing secrets and environment variables locally"})}),(0,t.jsx)(C.CardContent,{className:"p-0 grid grid-cols-[repeat(auto-fit,minmax(240px,1fr))] divide-y md:divide-y-0 md:divide-x divide-default items-stretch",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Lock,{size:20}),(0,t.jsx)("h4",{className:"text-base text-foreground",children:"Managing secrets"})]}),(0,t.jsxs)("div",{className:"text-sm text-foreground-light mt-1 mb-4 max-w-3xl",children:[(0,t.jsx)("p",{children:"Local secrets and environment variables can be loaded in either of the following two ways"}),(0,t.jsxs)("ul",{className:"list-disc pl-6",children:[(0,t.jsxs)("li",{className:"prose [&>code]:text-xs text-sm max-w-full",children:["Through an ",(0,t.jsx)("code",{children:".env"})," file placed at ",(0,t.jsx)("code",{children:"supabase/functions/.env"}),", which is automatically loaded on ",(0,t.jsx)("code",{children:"supabase start"})]}),(0,t.jsxs)("li",{className:"prose [&>code]:text-xs text-sm max-w-full",children:["Through the ",(0,t.jsx)("code",{children:"--env-file"})," option for ",(0,t.jsx)("code",{children:"supabase functions serve"}),", for example: ",(0,t.jsx)("code",{children:"supabase functions serve --env-file ./path/to/.env-file"})]})]})]}),(0,t.jsx)(f.DocsButton,{href:`${y.DOCS_URL}/guides/functions/secrets#using-the-cli`})]})})]})],841079)},242608,e=>{"use strict";var t=e.i(478902),s=e.i(902858),a=e.i(366652),n=e.i(389959),r=e.i(355901);e.i(128328);var i=e.i(158639),l=e.i(567558),o=e.i(693241),c=e.i(642834),d=e.i(38429),u=e.i(356003),m=e.i(234745);let p=e=>["projects",e,"edge_functions_secrets"];async function f({projectRef:e,secrets:t}){if(!e)throw Error("Project ref is required");let{data:s,error:a}=await (0,m.del)("/v1/projects/{ref}/secrets",{params:{path:{ref:e}},body:t});return a&&(0,m.handleError)(a),s}var h=e.i(242882);async function x({projectRef:e},t){if(!e)throw Error("Project ref is required");let{data:s,error:a}=await (0,m.get)("/v1/projects/{ref}/secrets",{params:{path:{ref:e}},signal:t});return a&&(0,m.handleError)(a),s}let g=({projectRef:e},{enabled:t=!0,...s}={})=>(0,h.useQuery)({queryKey:p(e),queryFn:({signal:t})=>x({projectRef:e},t),enabled:t&&void 0!==e,...s});var j=e.i(2579),b=e.i(114378),y=e.i(587433),v=e.i(627069),S=e.i(492418),N=e.i(746301),w=e.i(466472),C=e.i(532728),k=e.i(408891),_=e.i(417403);async function E({projectRef:e,secrets:t}){if(!e)throw Error("Project ref is required");let{data:s,error:a}=await (0,m.post)("/v1/projects/{ref}/secrets",{params:{path:{ref:e}},body:t});return a&&(0,m.handleError)(a),s}let P=({onSuccess:e,onError:t,...s}={})=>{let a=(0,u.useQueryClient)();return(0,d.useMutation)({mutationFn:e=>E(e),async onSuccess(t,s,n){let{projectRef:r}=s;await a.invalidateQueries({queryKey:p(r)}),await e?.(t,s,n)},async onError(e,s,a){void 0===t?r.toast.error(`Failed to create secrets: ${e.message}`):t(e,s,a)},...s})};var A=e.i(543851),T=e.i(890054),D=e.i(591862),R=e.i(837710),I=e.i(428353),F=e.i(24315),L=e.i(61863),O=e.i(191209),B=e.i(837243),z=e.i(846887);let M=({visible:e,onCancel:s,onConfirm:a,isCreating:n,secretName:r})=>(0,t.jsx)(w.default,{visible:e,size:"medium",title:"Confirm replacing existing secret",confirmLabel:"Replace secret",confirmLabelLoading:"Replacing secret",variant:"warning",loading:n,onCancel:s,onConfirm:a,children:(0,t.jsxs)("p",{className:"text-sm text-foreground-light",children:['A secret with the name "',r,'" already exists. Continuing will replace the existing secret with the new value. This action cannot be undone. Are you sure you want to proceed?']})}),H=_.default.object({secrets:_.default.array(_.default.object({name:_.default.string().min(1,"Please provide a name for your secret").refine(e=>!e.match(/^(SUPABASE_).*/),{message:"Name must not start with the SUPABASE_ prefix"}),value:_.default.string().min(1,"Please provide a value for your secret")}))}),U={secrets:[{name:"",value:""}]},$=()=>{let{ref:e}=(0,i.useParams)(),[s,a]=(0,n.useState)(!1),[l,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(null),u=(0,k.useForm)({resolver:(0,C.zodResolver)(H),defaultValues:U}),{fields:m,append:p,remove:f}=(0,k.useFieldArray)({control:u.control,name:"secrets"}),{data:h}=g({projectRef:e}),{mutate:x,isPending:j}=P({onSuccess:(e,t)=>{r.toast.success(`Successfully created new secret "${t.secrets[0].name}"`),setTimeout(()=>u.reset(),0)}}),b=async t=>{let s=h?.map(e=>e.name)||[],a=t.secrets.find(e=>s.includes(e.name));if(a){o(a.name),d(t);return}x({projectRef:e,secrets:t.secrets})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.Form_Shadcn_,{...u,children:(0,t.jsx)("form",{className:"w-full",onSubmit:u.handleSubmit(b),children:(0,t.jsxs)(v.Card,{children:[(0,t.jsx)(v.CardHeader,{children:(0,t.jsx)(v.CardTitle,{children:"Add or replace secrets"})}),(0,t.jsxs)(v.CardContent,{children:[m.map((e,n)=>(0,t.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_auto] gap-4 mb-4",children:[(0,t.jsx)(L.FormField_Shadcn_,{control:u.control,name:`secrets.${n}.name`,render:({field:e})=>(0,t.jsxs)(O.FormItem_Shadcn_,{className:"w-full",children:[(0,t.jsx)(B.FormLabel_Shadcn_,{children:"Name"}),(0,t.jsx)(F.FormControl_Shadcn_,{children:(0,t.jsx)(N.Input,{...e,placeholder:"e.g. CLIENT_KEY",onPaste:e=>(function(e){e.preventDefault();let t=e.clipboardData?.getData("text");if(!t)return;if(!t.includes("=")){let s=e.target.name;if(s?.includes("secrets")){let[e,a,n]=s.match(/secrets\.(\d+)\.(\w+)/)||[];if(a&&n){let e=parseInt(a);u.setValue(`secrets.${e}.${n}`,t);return}}}let s=[];try{let e=JSON.parse(t);Object.entries(e).forEach(([e,t])=>{s.push({name:e,value:String(t)})})}catch{t.split(/\n/).forEach(e=>{let[t,...a]=e.split("=");if(t&&a.length){let e=a.join("=").trim();s.push({name:t.trim(),value:e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'")?e.slice(1,-1):e})}})}if(s.length){let e=u.getValues("secrets").filter(e=>e.name||e.value);u.setValue("secrets",[...e,...s])}})(e.nativeEvent)})}),(0,t.jsx)(z.FormMessage_Shadcn_,{})]})}),(0,t.jsx)(L.FormField_Shadcn_,{control:u.control,name:`secrets.${n}.value`,render:({field:e})=>(0,t.jsxs)(O.FormItem_Shadcn_,{className:"w-full relative",children:[(0,t.jsx)(B.FormLabel_Shadcn_,{children:"Value"}),(0,t.jsx)(F.FormControl_Shadcn_,{children:(0,t.jsx)(N.Input,{...e,type:s?"text":"password","data-1p-ignore":!0,"data-lpignore":"true","data-form-type":"other","data-bwignore":!0,actions:(0,t.jsx)("div",{className:"mr-1",children:(0,t.jsx)(R.Button,{type:"text",className:"px-1",icon:s?(0,t.jsx)(T.EyeOff,{}):(0,t.jsx)(A.Eye,{}),onClick:()=>a(!s)})})})}),(0,t.jsx)(z.FormMessage_Shadcn_,{})]})}),(0,t.jsx)(R.Button,{type:"default",className:"h-[34px] mt-6",icon:(0,t.jsx)(D.MinusCircle,{}),disabled:m.length<=1,onClick:()=>m.length>1?f(n):u.reset(U)})]},e.id)),(0,t.jsx)(R.Button,{type:"default",onClick:()=>{u.getValues("secrets").every(e=>!e.name&&!e.value)&&m.forEach((e,t)=>f(t)),p({name:"",value:""})},children:"Add another"})]}),(0,t.jsxs)(v.CardFooter,{className:"justify-between space-x-2",children:[(0,t.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Insert or update multiple secrets at once by pasting key-value pairs"}),(0,t.jsx)(R.Button,{type:"primary",htmlType:"submit",disabled:j,loading:j,children:j?"Saving...":m.length>1?"Bulk save":"Save"})]})]})})}),(0,t.jsx)(M,{visible:!!l,onCancel:()=>{o(""),d(null)},onConfirm:()=>{c&&(x({projectRef:e,secrets:c.secrets}),o(""),d(null))},isCreating:j,secretName:l})]})};var q=e.i(582391),W=e.i(471998),Y=e.i(211570),K=e.i(215312),G=e.i(874311),V=e.i(955909);let Q=({secret:e,onSelectEdit:a,onSelectDelete:n})=>{let{can:r}=(0,j.useAsyncCheckPermissions)(s.PermissionAction.SECRETS_WRITE,"*"),i=!!e.name.match(/^(SUPABASE_).*/);return(0,t.jsxs)(S.TableRow,{children:[(0,t.jsx)(S.TableCell,{children:(0,t.jsx)("p",{className:"truncate py-2",children:e.name})}),(0,t.jsx)(S.TableCell,{children:(0,t.jsx)("p",{className:"font-mono text-sm max-w-96 truncate text-foreground-light",title:e.value,children:e.value})}),(0,t.jsx)(S.TableCell,{children:e.updated_at?(0,t.jsx)(V.TimestampInfo,{displayAs:"utc",utcTimestamp:e.updated_at,labelFormat:"DD MMM YYYY HH:mm:ss (ZZ)",className:"!text-sm text-foreground-light whitespace-nowrap"}):"-"}),(0,t.jsx)(S.TableCell,{children:(0,t.jsx)("div",{className:"flex items-center justify-end",children:(0,t.jsxs)(G.DropdownMenu,{children:[(0,t.jsx)(G.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(R.Button,{"aria-label":"More options",type:"default",className:"px-1",icon:(0,t.jsx)(W.MoreVertical,{})})}),(0,t.jsxs)(G.DropdownMenuContent,{side:"bottom",align:"end",className:"w-52",children:[(0,t.jsx)(G.DropdownMenuItem,{asChild:!0,children:(0,t.jsx)(K.ButtonTooltip,{type:"text",icon:(0,t.jsx)(q.Edit2,{size:14}),className:"w-full justify-start group text-inherit",disabled:!r||i,onClick:()=>a(),tooltip:{content:{side:"bottom",text:i?"This is a reserved secret and cannot be changed":r?void 0:"You need additional permissions to edit edge function secrets"}},children:"Edit secret"})}),(0,t.jsx)(G.DropdownMenuSeparator,{}),(0,t.jsx)(G.DropdownMenuItem,{asChild:!0,children:(0,t.jsx)(K.ButtonTooltip,{type:"text",icon:(0,t.jsx)(Y.Trash,{size:14,className:"group-[&:not(:disabled)]:text-destructive"}),className:"w-full justify-start group text-inherit",disabled:!r||i,onClick:()=>n(),tooltip:{content:{side:"bottom",text:i?"This is a reserved secret and cannot be deleted":r?void 0:"You need additional permissions to delete edge function secrets"}},children:"Delete secret"})})]})]})})})]})};var J=e.i(412385),Z=e.i(975924),X=e.i(367905),ee=e.i(843778),et=e.i(171997),es=e.i(378277),ea=e.i(479095),en=e.i(725137),er=e.i(538482);let ei="edit-secret-sidepanel",el=_.default.object({name:_.default.string().min(1,"Please provide a name for your secret"),value:_.default.string().min(1,"Please provide a value for your secret")});function eo({secret:e,visible:s,onClose:a}){let l=(0,X.useLatest)(e?.name),o=(0,k.useForm)({resolver:(0,C.zodResolver)(el)});(0,n.useEffect)(()=>{s&&o.reset({name:l.current??"",value:""})},[o,l,s]);let c=o.formState.isValid,{ref:d}=(0,i.useParams)(),{mutate:u,isPending:m}=P({onSuccess:(e,t)=>{r.toast.success(`Successfully updated secret "${t.secrets[0].name}"`),a()}}),p=async({name:e,value:t})=>{u({projectRef:d,secrets:[{name:e,value:t}]})},{confirmOnClose:f,modalProps:h}=(0,J.useConfirmOnClose)({checkIsDirty:()=>o.formState.isDirty,onClose:a});return(0,t.jsxs)(en.Sheet,{open:s,onOpenChange:f,children:[(0,t.jsxs)(en.SheetContent,{showClose:!1,size:"default",className:"!min-w-screen lg:!min-w-[600px] flex flex-col",children:[(0,t.jsx)(ec,{}),(0,t.jsx)(ea.Separator,{}),(0,t.jsx)(ed,{form:o,onSubmit:p}),(0,t.jsxs)(en.SheetFooter,{children:[(0,t.jsx)(R.Button,{disabled:m,type:"default",onClick:f,children:"Cancel"}),(0,t.jsx)(R.Button,{form:ei,htmlType:"submit",disabled:!c,loading:m,children:"Save"})]})]}),(0,t.jsx)(ep,{...h})]})}let ec=()=>(0,t.jsxs)(en.SheetHeader,{className:"py-3 flex flex-row gap-3 items-center border-b-0",children:[(0,t.jsxs)(en.SheetClose,{className:(0,ee.cn)("text-muted hover:text ring-offset-background hover:opacity-100","focus:outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none data-[state=open]:bg-secondary","transition"),children:[(0,t.jsx)(Z.X,{className:"h-3 w-3"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,t.jsx)(en.SheetTitle,{children:"Edit secret"})]}),ed=({form:e,onSubmit:s})=>(0,t.jsx)(I.Form_Shadcn_,{...e,children:(0,t.jsxs)("form",{id:ei,className:"flex-grow overflow-auto",onSubmit:e.handleSubmit(s),children:[(0,t.jsx)(en.SheetSection,{children:(0,t.jsx)(eu,{form:e})}),(0,t.jsx)(ea.Separator,{}),(0,t.jsx)(en.SheetSection,{className:"space-y-4",children:(0,t.jsx)(em,{form:e})}),(0,t.jsx)(ea.Separator,{})]})}),eu=({form:e})=>(0,t.jsx)(L.FormField_Shadcn_,{control:e.control,name:"name",render:({field:e})=>(0,t.jsx)(er.FormItemLayout,{label:"Name",layout:"horizontal",children:(0,t.jsx)(F.FormControl_Shadcn_,{children:(0,t.jsx)(es.Input_Shadcn_,{...e,readOnly:!0,className:"!text-foreground-light cursor-not-allowed"})})})}),em=({form:e})=>{let[s,a]=(0,n.useState)(!1);return(0,t.jsx)(L.FormField_Shadcn_,{control:e.control,name:"value",render:({field:e})=>(0,t.jsx)(er.FormItemLayout,{label:"Value",layout:"horizontal",description:"Secrets canâ€™t be retrieved once saved. Enter a new value to overwrite the existing value.",children:(0,t.jsx)(F.FormControl_Shadcn_,{children:(0,t.jsx)(et.Input,{...e,type:s?"text":"password",placeholder:"my-secret-value","data-1p-ignore":!0,"data-lpignore":"true","data-form-type":"other","data-bwignore":!0,actions:(0,t.jsx)("div",{className:"mr-1",children:(0,t.jsx)(R.Button,{type:"text",className:"px-1",icon:s?(0,t.jsx)(T.EyeOff,{}):(0,t.jsx)(A.Eye,{}),onClick:()=>a(!s)})})})})})})},ep=({visible:e,onClose:s,onCancel:a})=>(0,t.jsx)(w.default,{visible:e,title:"Discard changes",confirmLabel:"Discard",onCancel:a,onConfirm:s,children:(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"There are unsaved changes. Are you sure you want to close the panel? Your changes will be lost."})}),ef=()=>{let{ref:e}=(0,i.useParams)(),[m,h]=(0,n.useState)(""),x=(0,n.useRef)(null),{can:C,isLoading:k}=(0,j.useAsyncCheckPermissions)(s.PermissionAction.FUNCTIONS_SECRET_READ,"*"),{can:_}=(0,j.useAsyncCheckPermissions)(s.PermissionAction.SECRETS_WRITE,"*"),{data:E,error:P,isPending:A,isSuccess:T,isError:D}=g({projectRef:e},{enabled:C}),{setValue:R,value:I}=(0,b.useQueryStateWithSelect)({urlKey:"edit",select:e=>e?E?.find(t=>t.name===e):void 0,enabled:!!E,onError:()=>r.toast.error("Secret not found")}),{setValue:F,value:L}=(0,b.useQueryStateWithSelect)({urlKey:"delete",select:e=>e?E?.find(t=>t.name===e):void 0,enabled:!!E,onError:(e,t)=>(0,b.handleErrorOnDelete)(x,t,"Secret not found")}),{mutate:O,isPending:B}=(({onSuccess:e,onError:t,...s}={})=>{let a=(0,u.useQueryClient)();return(0,d.useMutation)({mutationFn:e=>f(e),async onSuccess(t,s,n){let{projectRef:r}=s;await a.invalidateQueries({queryKey:p(r)}),await e?.(t,s,n)},async onError(e,s,a){void 0===t?r.toast.error(`Failed to delete secrets: ${e.message}`):t(e,s,a)},...s})})({onSuccess:(e,t)=>{r.toast.success(`Successfully deleted secret â€œ${t.secrets[0]}â€`),F(null)},onError:()=>{x.current=null}}),z=m.length>0?E?.filter(e=>e.name.toLowerCase().includes(m.toLowerCase()))??[]:E??[],M=[(0,t.jsx)(S.TableHead,{children:"Name"},"secret-name"),(0,t.jsxs)(S.TableHead,{className:"flex items-center gap-x-2",children:["Digest ",(0,t.jsx)(y.Badge,{variant:"default",children:"SHA256"})]},"secret-value"),(0,t.jsx)(S.TableHead,{children:"Updated"},"secret-updated-at"),(0,t.jsx)(S.TableHead,{},"actions")],H=k||C&&A;return(0,t.jsxs)(t.Fragment,{children:[H?(0,t.jsx)(c.GenericSkeletonLoader,{}):C?(0,t.jsxs)(t.Fragment,{children:[D&&(0,t.jsx)(l.default,{error:P,subject:"Failed to retrieve project secrets"}),T&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-10",children:_?(0,t.jsx)($,{}):(0,t.jsx)(o.default,{resourceText:"manage this project's edge function secrets"})}),_&&!C?(0,t.jsx)(o.default,{resourceText:"view this project's edge function secrets"}):C?(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2",children:(0,t.jsx)(N.Input,{size:"small",className:"w-full md:w-80",placeholder:"Search for a secret",value:m,onChange:e=>h(e.target.value),icon:(0,t.jsx)(a.Search,{})})}),(0,t.jsx)(v.Card,{children:(0,t.jsxs)(S.Table,{children:[(0,t.jsx)(S.TableHeader,{children:(0,t.jsx)(S.TableRow,{children:M})}),(0,t.jsx)(S.TableBody,{children:z.length>0?z.map(e=>(0,t.jsx)(Q,{secret:e,onSelectEdit:()=>R(e.name),onSelectDelete:()=>F(e.name)},e.name)):0===z.length&&m.length>0?(0,t.jsx)(S.TableRow,{className:"[&>td]:hover:bg-inherit",children:(0,t.jsxs)(S.TableCell,{colSpan:M.length,children:[(0,t.jsx)("p",{className:"text-sm text-foreground",children:"No results found"}),(0,t.jsxs)("p",{className:"text-sm text-foreground-light",children:['Your search for "',m,'" did not return any results']})]})}):(0,t.jsx)(S.TableRow,{className:"[&>td]:hover:bg-inherit",children:(0,t.jsxs)(S.TableCell,{colSpan:M.length,children:[(0,t.jsx)("p",{className:"text-sm text-foreground",children:"No secrets created"}),(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"There are no secrets associated with your project yet"})]})})})]})})]}):null]})]}):(0,t.jsx)(o.default,{resourceText:"view this project's edge function secrets"}),(0,t.jsx)(eo,{secret:I,visible:!!I,onClose:()=>R(null)}),(0,t.jsx)(w.default,{variant:"destructive",loading:B,visible:!!L,confirmLabel:"Delete secret",confirmLabelLoading:"Deleting secret",title:`Delete secret â€œ${L?.name}â€`,onCancel:()=>F(null),onConfirm:()=>{L&&(x.current=L.name,O({projectRef:e,secrets:[L.name]}))},children:(0,t.jsx)("p",{className:"text-sm",children:"Ensure none of your edge functions are actively using this secret before deleting it. This action cannot be undone."})})]})};var eh=e.i(841079),ex=e.i(448710),eg=e.i(839941),ej=e.i(10429),eb=e.i(127739),ey=e.i(456050),ev=e.i(228027);let eS=()=>(0,t.jsx)(eb.PageContainer,{size:"large",children:(0,t.jsx)(ev.PageSection,{children:(0,t.jsx)(ev.PageSectionContent,{children:ej.IS_PLATFORM?(0,t.jsx)(ef,{}):(0,t.jsx)(eh.FunctionsSecretsEmptyStateLocal,{})})})});eS.getLayout=e=>(0,t.jsx)(ex.default,{children:(0,t.jsx)(eg.default,{children:(0,t.jsxs)("div",{className:"w-full min-h-full flex flex-col items-stretch",children:[(0,t.jsx)(ey.PageHeader,{size:"large",children:(0,t.jsx)(ey.PageHeaderMeta,{children:(0,t.jsxs)(ey.PageHeaderSummary,{children:[(0,t.jsx)(ey.PageHeaderTitle,{children:"Edge Function Secrets"}),(0,t.jsx)(ey.PageHeaderDescription,{children:"Manage encrypted values for your functions"})]})})}),e]})})}),e.s(["default",0,eS],242608)},975626,(e,t,s)=>{let a="/project/[ref]/functions/secrets";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(242608)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},111410,e=>{e.v(t=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(t=>e.l(t))).then(()=>t(677146)))},883471,e=>{e.v(t=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(t=>e.l(t))).then(()=>t(518769)))},587525,e=>{e.v(t=>Promise.all(["static/chunks/da2f61ca91d09b7f.js"].map(t=>e.l(t))).then(()=>t(127351)))},168845,e=>{e.v(t=>Promise.all(["static/chunks/99714db866f77205.js"].map(t=>e.l(t))).then(()=>t(238625)))},730314,e=>{e.v(t=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/df8f2d32c834951d.js","static/chunks/82dddbda1a808189.js","static/chunks/d3a06a9a43f3833e.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(t=>e.l(t))).then(()=>t(686651)))},591393,e=>{e.v(t=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(t=>e.l(t))).then(()=>t(217383)))},379416,e=>{e.v(t=>Promise.all(["static/chunks/d690909a90d04a2e.js"].map(t=>e.l(t))).then(()=>t(931066)))},15732,e=>{e.v(t=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(t=>e.l(t))).then(()=>t(760545)))},957083,e=>{e.v(t=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(t=>e.l(t))).then(()=>t(667558)))},207969,e=>{e.v(t=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(t=>e.l(t))).then(()=>t(427328)))},992842,e=>{e.v(t=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(t=>e.l(t))).then(()=>t(793794)))},239573,e=>{e.v(t=>Promise.all(["static/chunks/edc5d84148401903.js"].map(t=>e.l(t))).then(()=>t(210246)))},963685,e=>{e.v(t=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(t=>e.l(t))).then(()=>t(983756)))},665811,e=>{e.v(t=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(t=>e.l(t))).then(()=>t(544836)))},369256,e=>{e.v(t=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(t=>e.l(t))).then(()=>t(930239)))},16037,e=>{e.v(t=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(t=>e.l(t))).then(()=>t(397698)))},616788,e=>{e.v(t=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(t=>e.l(t))).then(()=>t(7346)))},315750,e=>{e.v(t=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(t=>e.l(t))).then(()=>t(531289)))},460510,e=>{e.v(t=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(t=>e.l(t))).then(()=>t(276898)))},550265,e=>{e.v(t=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(t=>e.l(t))).then(()=>t(259714)))},830960,e=>{e.v(t=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(t=>e.l(t))).then(()=>t(882885)))},336744,e=>{e.v(t=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(t=>e.l(t))).then(()=>t(955268)))},63631,e=>{e.v(t=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(t=>e.l(t))).then(()=>t(853630)))},912072,e=>{e.v(t=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(t=>e.l(t))).then(()=>t(311301)))}]);

//# debugId=9af527bb-de46-a2af-3fc2-b3d35d625cf3
//# sourceMappingURL=f1e4f973a3881d20.js.map